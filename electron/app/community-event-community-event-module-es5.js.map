{"version":3,"sources":["./src/app/community-event/community-event.page.html","./src/app/community-event/community-event.module.ts","./src/app/community-event/community-event.page.scss","./src/app/community-event/community-event.page.ts","./src/app/mapbox.service.ts"],"names":[],"mappings":"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","file":"community-event-community-event-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar color=\\\"tertiary\\\">\\r\\n        <ion-buttons slot =\\\"start\\\">\\r\\n            <ion-menu-button>\\r\\n            </ion-menu-button>\\r\\n          </ion-buttons>\\r\\n          <ion-title  style=\\\"text-align: center\\\"><img src=\\\"\\\\assets\\\\icon\\\\magnifying-glass (10).png\\\" >\\r\\n            </ion-title>\\r\\n    </ion-toolbar>\\r\\n   </ion-header>\\r\\n\\r\\n<ion-content color=\\\"success\\\">\\r\\n  <ion-searchbar color=\\\"light\\\" showCancelButton=\\\"never\\\" placeholder=\\\"Location\\\" (ionChange)=\\\"autocomplete()\\\" [(ngModel)]=\\\"searchString\\\"></ion-searchbar>\\r\\n\\r\\n  <ion-card>\\r\\n      <ion-item>\\r\\n          <ion-input placeholder=\\\"Headline\\\"></ion-input>\\r\\n        </ion-item>\\r\\n  </ion-card>\\r\\n\\r\\n<!-- Textarea in an item with a placeholder -->\\r\\n<ion-card>\\r\\n    <ion-item>\\r\\n        <ion-textarea placeholder=\\\"Description\\\" rows=\\\"20\\\" cols=\\\"20\\\"></ion-textarea>\\r\\n        </ion-item>\\r\\n</ion-card>\\r\\n\\r\\n<div style=\\\"text-align: center\\\">\\r\\n    <ion-button  shape=\\\"round\\\" color=\\\"tertiary\\\">\\r\\n        Submit\\r\\n    </ion-button>\\r\\n      \\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CommunityEventPage } from './community-event.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CommunityEventPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CommunityEventPage]\n})\nexport class CommunityEventPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbW11bml0eS1ldmVudC9jb21tdW5pdHktZXZlbnQucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { GooglemapService } from '../googlemap.service';\r\n\r\nimport { UsersService } from '../users.service';\r\nimport { Router } from '@angular/router';\r\nimport { NavigationService } from '../navigation.service';\r\nimport { Events } from '@ionic/angular';\r\nimport { MapboxService } from '../mapbox.service';\r\n\r\n@Component({\r\n  selector: 'app-community-event',\r\n  templateUrl: './community-event.page.html',\r\n  styleUrls: ['./community-event.page.scss'],\r\n})\r\nexport class CommunityEventPage implements OnInit {\r\n  user\r\n  searchString\r\n  result\r\n  coordinates = []\r\n  features =[]\r\n  place =[]\r\n  constructor(public navigationService : NavigationService, public userService : UsersService, public mapboxService : MapboxService, public router : Router, public events: Events) {\r\n    console.log(\"why\");\r\n    this.checkState()\r\n    this.events.publish('currentPage:home', false)\r\n  }\r\n  checkState(){\r\n    this.user = this.userService.returnUserProfile()\r\n    console.log(this.user);\r\n    if(this.user[0] ===undefined){\r\n      console.log(true);\r\n      this.router.navigate(['/login'])\r\n    }\r\n  }\r\n\r\n  autocomplete(){\r\n   this.clearArray(this.place)\r\n    // console.log(this.result);\r\n    this.mapboxService.autoComplete(this.searchString).subscribe((data) => {\r\n       this.result = data\r\n       console.log(this.result);\r\n        this.features = this.result.features\r\n        console.log(this.features);\r\n        \r\n   \r\n        for(let i = 0; i < this.features.length; i++){\r\n        //this.coordinates.push(this.features[i])\r\n        this.place.push({\r\n          coordinates : this.features[i].geometry.coordinates,\r\n          place : this.features[i].place_name,\r\n          name : this.features[i].text,\r\n          // region : this.features[i].context[0].text,\r\n          // regionCode : this.features[i].context[0].short_code,\r\n          // country : this.features[i].context[1].text,\r\n          //code : this.features[i].context[1].wikidata,\r\n          context : this.features[i].context\r\n        })\r\n        }\r\n      \r\n      \r\n        console.log(\"Hello  ------------------------------------\");   \r\n      console.log(this.features);\r\n      \r\n       console.log(this.coordinates);\r\n       //this.check(this.result)\r\n\r\n       console.log(\"place           --------------------------\");\r\n       console.log(this.place);\r\n       \r\n    })\r\n    \r\n  \r\n\r\n  }\r\n\r\n  clearArray(array){\r\n    for(let i = 0; i < array.length; i++){\r\n      array.splice(i)\r\n    }\r\n    \r\n  }\r\n  check(data){\r\n    let result = data\r\n    let coordinates\r\n    for(let i = 0; i < result.length; i++){\r\n     coordinates = result.features[i].geometry.coordinates\r\n    }\r\n    console.log(coordinates);\r\n  }\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MapboxService {\r\n\r\n  constructor(public http : HttpClient) { }\r\n  city = \"Pretoria\"\r\n  address = '//api.mapbox.com/geocoding/v5/mapbox.places/'\r\n   AppID = \"&APPID=13e0cbb2f2cede6f03e901ab6f8f53e8\"\r\n   returnParameters = \"limit=10&country=za\"\r\n   apiKey = 'pk.eyJ1Ijoid2lsMW5ndDBuIiwiYSI6ImNrMG1mbnZqcDEydjMzbW40bWNtMmU4NjgifQ.6ggdrR-Y2ng55vBDhU7Xlg'\r\n   fullstring = '//api.mapbox.com/geocoding/v5/mapbox.places/451.json?limit=10&country=za&access_token=pk.eyJ1Ijoid2lsMW5ndDBuIiwiYSI6ImNrMG1mbnZqcDEydjMzbW40bWNtMmU4NjgifQ.6ggdrR-Y2ng55vBDhU7Xlg'\r\n  autoComplete(place){\r\n    return this.http.get(this.address + place + '.json?' + this.returnParameters + '&access_token=' + this.apiKey)\r\n \r\n  }\r\n}\r\n"],"sourceRoot":""}